<div class="container">
  <div class="title">
    <h1>
      <img src="./assets/images/github_icon.png" alt="">
      <span>Github: Buscador de usuarios</span>
    </h1>
  </div>
  <form [formGroup]="aFormGroup">
    <div class="search">
      <input name="user" placeholder="Ingresar usuario" type="text" class="inputComponent" value=""
             formControlName="username">
      <button class="btnComponent" (click)="searchUser($event)">
        <span class="material-symbols-outlined">search</span> BUSCAR
      </button>
    </div>
  </form>

  <div class="result">

    <div class="userList">
      <div class="userList--user" *ngFor="let user of currentPageUsers">
        <a (click)="openUserInfo(user)" class="userList--holder">
          <img src="{{user.avatar_url}}" alt="">
          <div class="userList--info">

            <h3>{{user.login}} <!--<span>{{user.id}}</span>--></h3>
            <p>{{user.html_url}}</p>
          </div>
        </a>
      </div>
    </div>

    <div class="pagination">
      <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1" class="btnComponent">Anterior</button>

      <ng-container *ngFor="let page of [].constructor(totalPages); let i = index">
        <button
          class="btnComponent"
          [class.active]="currentPage === i + 1"
          (click)="changePage(i + 1)">
          {{ i + 1 }}
        </button>
      </ng-container>

      <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages" class="btnComponent">Siguiente</button>
    </div>
  </div>
</div>
<div class="container_footer">
  <p class="footer">©2025 - developed by Enrique Sánchez Q. All rights reserved.</p>
</div>



<!-- Modal -->
<div class="modal-backdrop" *ngIf="modalAbierto" (click)="closeModal()"></div>
<div class="modal" *ngIf="modalAbierto">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <img class="logo" src="./assets/images/github_icon.png" alt="">
    <div class="userInfo">
      <img src="{{usuarioSeleccionado?.avatar_url}}" alt="">
      <div class="text">
        <p class="userName">{{ usuarioSeleccionado?.login }}</p>
        <p class="subInfo">
          <span class="material-symbols-outlined">public</span>
          <span>{{ usuarioSeleccionado?.html_url }}</span>
        </p>
        <p class="subInfo">
          <span class="material-symbols-outlined">badge</span>
          <span>Id: {{ usuarioSeleccionado?.id }}</span>
        </p>
      </div>
    </div>
    <div class="userDetail">
      <div class="column">
        <span class="material-symbols-outlined">sdk</span>
        <div class="data">
          <div class="title">Repositorios</div>
          <div class="dataDetail">123</div>
        </div>
      </div>
      <div class="column">
        <span class="material-symbols-outlined">group</span>
        <div class="data">
          <div class="title">Seguidores</div>
          <div class="dataDetail">13</div>
        </div>
      </div>
      <div class="column">
        <span class="material-symbols-outlined">diversity_1</span>
        <div class="data">
          <div class="title">Siguiendo</div>
          <div class="dataDetail">13</div>
        </div>
      </div>
    </div>

    <button class="btnComponent" (click)="closeModal()">Cerrar</button>
  </div>
</div>
